<!--suppress CssUnusedSymbol, JSUnusedLocalSymbols -->
<style>
/* Navigation Menu Styles */
#nav-menu {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: linear-gradient(135deg, #3464e1 0%, #764ba2 100%); /* Navbar color */
  color: white;
  padding: 15px 0; /* Navbar height */
  z-index: 1000;
  display: flex;
  justify-content: space-between; /* Space between items */
  align-items: center; /* Vertically align items */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

h1, h2 {
  color: #6951af !important;
}

code .nx,
code .n,
code .py,
code .p {
  color: #24292e !important;
}

.language-plaintext.highlighter-rouge > .highlight > pre.highlight > code {
  color: #24292e !important;
}

code.language-plaintext.highlighter-rouge {
  color: #EB5757 !important;                 /* strong red text */
  border-radius: 4px;                        /* rounded corners */
  padding: 0.2em 0.4em;                      /* small breathing space */
}

.image-row {
  display: flex;
  overflow-x: auto;
  border: 2px solid #ccc;
  padding: 6px;
  border-radius: 8px;
  gap: 5px;
  align-items: flex-start;
}

.image-item {
  width: 240px !important;
  height: auto !important;
  display: block !important;
  flex-shrink: 0 !important;
}

.linked-image {
  display: block !important;
  flex-shrink: 0 !important;
}

.markdown-body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif !important;
    font-weight: 400 !important;
    word-break: normal !important;
    overflow-wrap: break-word !important;
    letter-spacing: 0.02em !important;
    line-height: 1.6 !important;
    font-size: 16px !important;
}

#nav-menu a {
  color: white;
  text-decoration: none;
  margin: 0 14px;
  font-weight: bold;
  font-size: 14px;
  transition: color 0.3s ease;
}

#nav-menu > div:first-child a {
  font-size: 13px;
  margin: 0 7px;
  padding: 5px 11px;
  border-radius: 20px;
  background: rgba(255, 255, 255, 0.1);
  transition: all 0.3s ease;
  font-weight: 700; /* Increase from bold to 700 */
  -webkit-font-smoothing: antialiased; /* Better text rendering */
  -moz-osx-font-smoothing: grayscale;
}

#nav-menu > div:first-child a.active {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
  transform: translateY(-1px);
}

#nav-menu > div:first-child a:hover {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
}

/* Adjust content padding for the fixed navbar */
body {
  padding-top: 50px; /* Adjusted for taller navbar */
}

/* Hamburger Menu (Toggle Button) */
#nav-menu-toggle {
  display: none;
  cursor: pointer;
  font-size: 18px;
  margin-right: 20px; /* Move to the right */
  z-index: 1100; /* Ensure toggle is above menu items */
}

/* Navigation Links */
#nav-links {
  display: flex;
  flex-wrap: wrap;
  padding-right: 20px;
}

@media (max-width: 768px) {
  #nav-links {
    display: none; /* Hide links initially on mobile */
    flex-direction: column;
    align-items: center;
    background: linear-gradient(135deg, #3464e1 0%, #764ba2 100%); /* Match navbar background */
    width: 100%;
    position: absolute;
    top: 60px; /* Space below navbar */
    left: 0;
    padding: 15px 0; /* Add spacing around links */
    z-index: 1000; /* Ensure it doesn't overlap the toggle button */
  }

  #nav-links.active {
    display: flex; /* Show links when active */
  }

  #nav-links a {
    margin: 15px 0; /* Added vertical spacing */
  }

  #nav-menu-toggle {
    display: block; /* Show hamburger menu */
  }
}
</style>

<div id="nav-menu">
  <div style="margin-left: 20px;">
    <a href="/projects/filmmind">EN</a>
    <a href="/kr/filmmind">KR</a>
  </div>

<span id="nav-menu-toggle">â˜°</span>
  <div id="nav-links">
    <!-- Navigation Links will be dynamically populated -->
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const navLinksContainer = document.getElementById("nav-links");
    const toggle = document.getElementById("nav-menu-toggle");
    const headings = document.querySelectorAll("h2");

    // Remove auto-generated H1 heading completely to avoid spacing issues
    const autoGeneratedH1 = document.querySelector("h1:first-of-type");
    if (autoGeneratedH1) {
      autoGeneratedH1.remove();
    }

    // Create navigation links dynamically, excluding subheadings (###)
    headings.forEach((heading, index) => {
      if (heading.tagName === "H3") return; // Skip ### subheadings

      // Create a clean title without emojis for the nav bar
      const cleanText = heading.textContent.replace(/[\u{1F300}-\u{1FAF6}]/gu, '').trim();

      // Create an ID for each heading if not already present
      if (!heading.id) {
        heading.id = "section-" + index;
      }

      // Create navigation link
      const navLink = document.createElement("a");
      navLink.href = "#" + heading.id;
      navLink.textContent = cleanText;
      navLinksContainer.appendChild(navLink);
    });

    // Add click event for hamburger toggle
    toggle.addEventListener("click", () => {
      navLinksContainer.classList.toggle("active");
    });

    // Adjust scroll behavior to account for fixed navbar height
    const adjustScroll = (e, href) => {
      e.preventDefault();
      const target = document.querySelector(href);
      if (target) {
        window.scrollTo({
          top: target.offsetTop - 75, // Offset for navbar height
          behavior: 'smooth'
        });
      }
    };

    // Handle nav bar links
    document.querySelectorAll('#nav-links a').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        adjustScroll(e, this.getAttribute('href'));
        navLinksContainer.classList.remove('active'); // Collapse the dropdown
      });
    });

    // Handle all markdown links with hash anchors
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        adjustScroll(e, this.getAttribute('href'));
      });
    });

    // Fix EN/KR active states based on current page
    function updateLanguageButtons() {
      const currentPath = window.location.pathname;
      const enButton = document.querySelector('a[href="/projects/filmmind"]');
      const krButton = document.querySelector('a[href="/kr/filmmind"]');
      
      // Remove active class from both buttons first
      if (enButton) enButton.classList.remove('active');
      if (krButton) krButton.classList.remove('active');
      
      // Check for KR pages first (more specific)
      if (currentPath.includes('/kr')) {
        if (krButton) krButton.classList.add('active');
      } 
      // Then check for EN pages (root, index, etc.)
      else {
        if (enButton) enButton.classList.add('active');
      }
    }

    // Update buttons on page load
    updateLanguageButtons();

    // Update buttons when navigation occurs (for SPAs)
    window.addEventListener('popstate', updateLanguageButtons);
  });
</script>

<div style="position: relative; margin-bottom: 40px;">

<img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&height=300&section=header&fontSize=45&animation=fadeIn&fontAlignY=38&desc=&descAlignY=51&descAlign=62" alt="Header" style="display: block; width: 100%; height: auto; margin: 0; padding: 0; border-radius: 8px;" />

<img src="../../images/filmmind/app_logo.png" alt="Project Icon" style="position: absolute; left: 40px; bottom: -10px; width: 80px; height: 80px; border-radius: 20px; object-fit: cover;" />

</div>

# FilmMind - Movie Information App

## ğŸ“ Overview
**ğŸ“Œ App Introduction:** Movie information and recommendation app powered by TMDB API  
**ğŸ•’ Duration:** May 13, 2025 ~ May 15, 2025 (3 days)  
**ğŸ“± Platform:** Flutter cross-platform app (iOS, Android)  
**ğŸ‘¥ Team Size:** 1 developer (solo project)  
**ğŸ’¼ Role:** Entire app design and development, API integration, performance optimization  
**ğŸ› ï¸ Key Technologies:** `Flutter` `Dart` `TMDB API` `Riverpod` `Clean Architecture` `Dio` `GitHub Actions` `Hero Animation` `Shimmer`    
**ğŸ”— GitHub:** [daehan-lim/flutter-film-mind-app](https://github.com/daehan-lim/flutter-film-mind-app)

<div class="image-row">
  <img src="../../images/filmmind/1_home.png" alt="1 home screen" class="image-item" />
  <img src="../../images/filmmind/7_home_scroll.png" alt="7 home scroll screen" class="image-item" />
  <img src="../../images/filmmind/3_detail.png" alt="3 detail screen" class="image-item" />
  <img src="../../images/filmmind/4_detail_loading.png" alt="4 detail loading screen" class="image-item" />
  <img src="../../images/filmmind/5_detail_scroll1.png" alt="5 detail scroll 1 screen" class="image-item" />
  <img src="../../images/filmmind/6_detail_scroll2.png" alt="6 detail scroll 2 screen" class="image-item" />
  <img src="../../images/filmmind/2_home_loading.png" alt="2 home loading screen" class="image-item" />
  <img src="../../images/filmmind/8_naver.png" alt="8 Naver screen" class="image-item" />
  <img src="../../images/filmmind/9_google.png" alt="9 Google screen" class="image-item" />

</div>
<span style="display: block; height: 11px;"></span>

## ğŸ“– Project Description

FilmMind is a Flutter-based mobile application that provides comprehensive movie information across multiple categories including now playing, popular movies, top-rated films, and upcoming releases using the TMDB API. Built with Clean Architecture patterns and MVVM structure for scalability and maintainability, the app features smooth Hero Animations for seamless screen transitions and integrated Google/Naver search functionality, creating an intuitive environment for users to explore movie information and access additional details effortlessly.

## ğŸ› ï¸ Tech Stack

[![Flutter](https://img.shields.io/badge/Flutter-02569B?style=for-the-badge&logo=flutter&logoColor=white)](https://flutter.dev)
[![Dart](https://img.shields.io/badge/Dart-0175C2?style=for-the-badge&logo=dart&logoColor=white)](https://dart.dev/)
[![Riverpod](https://img.shields.io/badge/Riverpod-02569B?style=for-the-badge)](https://riverpod.dev/)
[![Clean Architecture](https://img.shields.io/badge/Clean_Architecture-4CAF50?style=for-the-badge)](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
[![MVVM](https://img.shields.io/badge/MVVM-ed9242?style=for-the-badge)](https://developer.android.com/topic/architecture)
[![Dio](https://img.shields.io/badge/Dio-02569B?style=for-the-badge)](https://pub.dev/packages/dio)
[![TMDB API](https://img.shields.io/badge/TMDB_API-01B4E4?style=for-the-badge&logo=themoviedatabase&logoColor=white)](https://www.themoviedb.org/documentation/api)
[![GitHub Actions](https://img.shields.io/badge/GitHub_Actions-2088FF?style=for-the-badge&logo=github-actions&logoColor=white)](https://github.com/features/actions)
[![Cached Network Image](https://img.shields.io/badge/Cached_Network_Image-4CAF50?style=for-the-badge)](https://pub.dev/packages/cached_network_image)
[![Shimmer](https://img.shields.io/badge/Shimmer-FF9800?style=for-the-badge)](https://pub.dev/packages/shimmer)
[![URL Launcher](https://img.shields.io/badge/URL_Launcher-2196F3?style=for-the-badge)](https://pub.dev/packages/url_launcher)
[![Flutter Dotenv](https://img.shields.io/badge/Flutter_Dotenv-4CAF50?style=for-the-badge)](https://pub.dev/packages/flutter_dotenv)
[![Flutter SVG](https://img.shields.io/badge/Flutter_SVG-FF6B6B?style=for-the-badge)](https://pub.dev/packages/flutter_svg)

## ğŸ“‹ Project Structure
``` 
â”œâ”€â”€ app/                               # App-wide settings, constants, and themes  
â”‚   â”œâ”€â”€ constants/                     # App constant definitions  
â”‚   â”‚   â”œâ”€â”€ app_colors.dart            # Color scheme definitions  
â”‚   â”‚   â”œâ”€â”€ app_constants.dart         # Constant values  
â”‚   â”‚   â””â”€â”€ app_styles.dart            # Style definitions  
â”‚   â””â”€â”€ theme.dart                     # App theme configuration  

â”œâ”€â”€ core/                              # Core functionality and utilities  
â”‚   â”œâ”€â”€ exceptions/                    # App-wide exception classes  
â”‚   â”‚   â””â”€â”€ data_exceptions.dart       # Data-related exception classes  
â”‚   â”œâ”€â”€ extensions/                    # Extension method definitions  
â”‚   â”‚   â”œâ”€â”€ date_extensions.dart       # Date-related extension methods  
â”‚   â”‚   â””â”€â”€ number_extensions.dart     # Number-related extension methods  
â”‚   â”œâ”€â”€ providers/                     # Common providers  
â”‚   â”‚   â””â”€â”€ repository_providers.dart  # Repository providers  
â”‚   â””â”€â”€ utils/                         # Utility functions  
â”‚       â”œâ”€â”€ navigation_util.dart       # Navigation utilities  
â”‚       â”œâ”€â”€ snackbar_util.dart         # Snackbar utilities  
â”‚       â””â”€â”€ dialogue_util.dart         # Dialog utilities  

â”œâ”€â”€ data/                              # Data layer and data access  
â”‚   â”œâ”€â”€ data_source/                   # Data source classes 
â”‚   â”œâ”€â”€ dto/                           # Data Transfer Objects 
â”‚   â””â”€â”€ repository/                    # Repository implementations 

â”œâ”€â”€ domain/                            # Business logic and entities  
â”‚   â”œâ”€â”€ entity/                        # Domain entities 
â”‚   â”œâ”€â”€ repository/                    # Repository interfaces
â”‚   â””â”€â”€ usecase/                       # Use cases 

â”œâ”€â”€ presentation/                      # UI layer  
â”‚   â”œâ”€â”€ pages/                         # App screens  
â”‚   â”‚   â”œâ”€â”€ home/                      # Home screen  
â”‚   â”‚   â”‚   â”œâ”€â”€ home_page.dart         # Home page widget  
â”‚   â”‚   â”‚   â”œâ”€â”€ home_view_model.dart   # Home screen view model  
â”‚   â”‚   â”‚   â””â”€â”€ widgets/               # Home screen widgets 
â”‚   â”‚   â””â”€â”€ detail/                    # Detail screen 
â”‚   â””â”€â”€ widgets/                       # Common widgets 

â””â”€â”€ main.dart                          # App entry point  
```

## ğŸŒŸ Main Contributions and Achievements

### Clean Architecture-Based App Structure Design
- **Layered architecture implementation**
  - Implemented separation of concerns across `Domain`, `Data`, and `Presentation` layers following dependency inversion principles
  - Built global state management with `Riverpod` and implemented `Provider`-based dependency injection
  - Applied `MVVM` pattern to separate UI from business logic, establishing unidirectional data flow
  - Encapsulated business logic through `Repository` pattern and `UseCase` layers, creating testable and maintainable code structure

### TMDB API Integration and Movie Data Processing
- Built real-time data retrieval for 4 categories: now playing, popular movies, top-rated films, and upcoming releases
- Implemented stable API communication using `Dio` HTTP client with `Bearer Token` authentication
- Integrated individual movie detail API for comprehensive information including genres, production companies, budget, revenue, and runtime
- Enhanced budget/revenue information readability using currency formatting and number formatting `Extensions`

### UI/UX and Animation Implementation
- **Hero Animation-based screen transitions**
  - Implemented `Hero Animation` with category-specific unique tags for smooth screen transitions when movie posters are clicked
  - Established visual continuity from main screen to detail screen, achieving native app-level user experience
  - Prevented animation conflicts when the same movie is selected from multiple categories through proper `Hero` tag matching

- **UI/UX enhancements**
  - Integrated Google and Naver search through popup menu on movie detail pages for additional movie information lookup
  - Provided seamless in-app search experience through URL encoding and in-app browser implementation
  - Reduced repeated loading times and saved data usage through `CachedNetworkImage` image caching
  - Implemented `Shimmer` loading animations to improve perceived performance during data loading and enhance user waiting experience
  - Created visually impactful popular movie ranking number overlay design using `Transform.translate`
  - Achieved efficient space utilization through horizontal scroll `ListView` with differentiated layouts for each category
  - Applied default dark mode to enhance visual immersion with movie posters and reduce eye strain

### Comprehensive Unit Testing Implementation
- Wrote unit tests for all layers from `DataSource` to `ViewModel`, ensuring business logic stability
- Implemented test cases for JSON parsing, API communication, and data transformation processes to guarantee data processing reliability
- Built isolated test environment using `Mocktail` for dependency mocking and `Provider` overrides, eliminating external API dependencies

### GitHub Actions CI Pipeline
- Established automated test execution and code quality verification based on `Pull Request` and `Push` events, reducing manual review time
- Implemented secure API key management through environment variables and protected sensitive information using `GitHub Secrets`
- Built fully automated workflow from Flutter dependency installation to APK artifact upload

### Development Efficiency and Code Quality
- Reduced code duplication and improved maintenance efficiency through reusable widget componentization
- Enhanced code readability using `Extension` methods
- Established design consistency through common style and theme systems
- Minimized external API dependencies and protected domain models through separation of `Entity` and `DTO`

## ğŸŒ± Problem Solving

**1. Hero Animation Tag Duplication Conflict**

- **Problem**  
  While developing a movie information app with Flutter, I implemented `Hero Animation` for smooth transitions from home screen to detail screen when movie posters are clicked. However, the error `There are multiple heroes that share the same tag within a subtree` occurred, preventing animations from working properly.

- **Root Cause Analysis**
  - Initially created `Hero` tags based only on movie ID using format `'movie-image-${movie.id}'`
  - Same movies appeared across multiple categories ('Now Playing', 'Popular', 'Top Rated', 'Upcoming'), causing multiple identical `Hero` tags to exist on one screen
  - This violated Flutter's constraint that all `Hero` tags within a screen must be unique

- **Solution**
  - Implemented unique tag generation system combining movie ID and category name: `'movie-image-${movie.id}-$categoryName'`
  - Modified detail page navigation to pass category information, ensuring matching tag format for `Hero Animation`
  - Gave each category independent `Hero` tags, completely resolving duplication issues

```dart
// Updated Hero tag generation
Hero(
  tag: 'movie-image-${movie.id}-$categoryName',
  child: AppCachedImage(imageUrl: movie.getPosterUrl()),
)
```

- **Results**  
  Achieved smooth animation transitions without conflicts, even when the same movie appears in multiple categories, each with unique `Hero` tags

**2. TMDB API Key Security Management in GitHub Actions**

- **Problem**  
  The CI pipeline required `TMDB Bearer Token` but couldn't hardcode it in the source code, causing build failures due to missing environment variables.

- **Solution Process**
  - Identified that Flutter's `flutter_dotenv` package requires `.env` file at runtime
  - Confirmed that environment variable files cannot be committed to Git for security reasons
  - Explored secure environment variable management using `GitHub Secrets`

- **Solution**
  - Registered `TMDB_BEARER_TOKEN` as a Secret in GitHub Repository Settings
  - Injected Secret as environment variable in `GitHub Actions` workflow to dynamically create `.env` file

```yml
- name: Create .env file
  run: |
    echo "TMDB_BEARER_TOKEN=${{ secrets.TMDB_BEARER_TOKEN }}" > .env

- name: Install dependencies
  run: flutter pub get

- name: Run tests
  run: flutter test
```

- **Results**  
  Established stable build and test execution environment in automated CI pipeline without API key exposure risks

## ğŸï¸ Video
<div align="center"> 
<a href="https://www.youtube.com/watch?v=OKqoMnWGQ5o">
  <img src="../../images/filmmind/video_preview.png" alt="Watch the Video" width="230" />
</a>
</div>
<br>
