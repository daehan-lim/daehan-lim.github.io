<!--suppress CssUnusedSymbol, JSUnusedLocalSymbols -->
<style>
/* Navigation Menu Styles */
#nav-menu {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: linear-gradient(135deg, #3464e1 0%, #764ba2 100%); /* Navbar color */
  color: white;
  padding: 15px 0; /* Navbar height */
  z-index: 1000;
  display: flex;
  justify-content: space-between; /* Space between items */
  align-items: center; /* Vertically align items */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

h1, h2 {
  color: #6951af !important;
}

code .nx,
code .n,
code .py,
code .p {
  color: #24292e !important;
}

.language-plaintext.highlighter-rouge > .highlight > pre.highlight > code {
  color: #24292e !important;
}

code.language-plaintext.highlighter-rouge {
  color: #EB5757 !important;                 /* strong red text */
  border-radius: 4px;                        /* rounded corners */
  padding: 0.2em 0.4em;                      /* small breathing space */
}

.image-row {
  display: flex;
  overflow-x: auto;
  border: 2px solid #ccc;
  padding: 6px;
  border-radius: 8px;
  gap: 5px;
  align-items: flex-start;
}

.image-item {
  width: 240px !important;
  height: auto !important;
  display: block !important;
  flex-shrink: 0 !important;
}

.linked-image {
  display: block !important;
  flex-shrink: 0 !important;
}

.markdown-body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif !important;
    font-weight: 400 !important;
    word-break: normal !important;
    overflow-wrap: break-word !important;
    letter-spacing: 0.02em !important;
    line-height: 1.6 !important;
    font-size: 16px !important;
}

#nav-menu a {
  color: white;
  text-decoration: none;
  margin: 0 14px;
  font-weight: bold;
  font-size: 14px;
  transition: color 0.3s ease;
}

#nav-menu > div:first-child a {
  font-size: 13px;
  margin: 0 7px;
  padding: 5px 11px;
  border-radius: 20px;
  background: rgba(255, 255, 255, 0.1);
  transition: all 0.3s ease;
  font-weight: 700; /* Increase from bold to 700 */
  -webkit-font-smoothing: antialiased; /* Better text rendering */
  -moz-osx-font-smoothing: grayscale;
}

#nav-menu > div:first-child a.active {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
}

#nav-menu > div:first-child a:hover {
  background: rgba(255, 255, 255, 0.25); /* Brighter white overlay */
  color: white;
  transform: translateY(-1px);
}

/* Home button styles */
#home-button {
  color: white;
  text-decoration: none;
  font-weight: 700;
  font-size: 13px;
  padding: 5px 11px;
  border-radius: 50%; /* Changed from 20px to make it circular */
  background: rgba(255, 255, 255, 0.1);
  transition: all 0.3s ease;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  margin-right: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

#home-button svg {
  width: 16px;
  height: 22px;
  fill: currentColor;
}

/* Adjust content padding for the fixed navbar */
body {
  padding-top: 50px; /* Adjusted for taller navbar */
}

/* Hamburger Menu (Toggle Button) */
#nav-menu-toggle {
  display: none;
  cursor: pointer;
  font-size: 18px;
  margin-right: 20px; /* Move to the right */
  z-index: 1100; /* Ensure toggle is above menu items */
}

/* Navigation Links */
#nav-links {
  display: flex;
  flex-wrap: wrap;
  padding-right: 20px;
}

@media (max-width: 768px) {
  #nav-links {
    display: none; /* Hide links initially on mobile */
    flex-direction: column;
    align-items: center;
    background: linear-gradient(135deg, #3464e1 0%, #764ba2 100%); /* Match navbar background */
    width: 100%;
    position: absolute;
    top: 60px; /* Space below navbar */
    left: 0;
    padding: 15px 0; /* Add spacing around links */
    z-index: 1000; /* Ensure it doesn't overlap the toggle button */
  }

  #nav-links.active {
    display: flex; /* Show links when active */
  }

  #nav-links a {
    margin: 15px 0; /* Added vertical spacing */
  }

  #nav-menu-toggle {
    display: block; /* Show hamburger menu */
  }
}
</style>

<div id="nav-menu">
  <!-- Home button first -->
  <div style="margin-left: 20px; display: flex; align-items: center;">
    <a href="/" id="home-button">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 3l9 7.5v10.5h-6v-6h-6v6H3V10.5L12 3z"/>
      </svg>
    </a>
    <a href="/projects/portal">EN</a>
    <a href="/kr/projects/portal">KR</a>
  </div>

<span id="nav-menu-toggle">â˜°</span>
  <div id="nav-links">
    <!-- Navigation Links will be dynamically populated -->
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const navLinksContainer = document.getElementById("nav-links");
    const toggle = document.getElementById("nav-menu-toggle");
    const headings = document.querySelectorAll("h2");

    // Remove auto-generated H1 heading completely to avoid spacing issues
    const autoGeneratedH1 = document.querySelector("h1:first-of-type");
    if (autoGeneratedH1) {
      autoGeneratedH1.remove();
    }

    // Create navigation links dynamically, excluding subheadings (###)
    headings.forEach((heading, index) => {
      if (heading.tagName === "H3") return; // Skip ### subheadings

      // Create a clean title without emojis for the nav bar
      const cleanText = heading.textContent.replace(/[\u{1F300}-\u{1FAF6}]/gu, '').trim();

      // Create an ID for each heading if not already present
      if (!heading.id) {
        heading.id = "section-" + index;
      }

      // Create navigation link
      const navLink = document.createElement("a");
      navLink.href = "#" + heading.id;
      navLink.textContent = cleanText;
      navLinksContainer.appendChild(navLink);
    });

    // Add click event for hamburger toggle
    toggle.addEventListener("click", () => {
      navLinksContainer.classList.toggle("active");
    });

    // Adjust scroll behavior to account for fixed navbar height
    const adjustScroll = (e, href) => {
      e.preventDefault();
      const target = document.querySelector(href);
      if (target) {
        window.scrollTo({
          top: target.offsetTop - 75, // Offset for navbar height
          behavior: 'smooth'
        });
      }
    };

    // Handle nav bar links
    document.querySelectorAll('#nav-links a').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        adjustScroll(e, this.getAttribute('href'));
        navLinksContainer.classList.remove('active'); // Collapse the dropdown
      });
    });

    // Handle all markdown links with hash anchors
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        adjustScroll(e, this.getAttribute('href'));
      });
    });

    // Fix EN/KR active states based on current page
    function updateLanguageButtons() {
      const currentPath = window.location.pathname;
      const enButton = document.querySelector('a[href="/projects/portal"]');
      const krButton = document.querySelector('a[href="/kr/projects/portal"]');
      
      // Remove active class from both buttons first
      if (enButton) enButton.classList.remove('active');
      if (krButton) krButton.classList.remove('active');
      
      // Check for KR pages first (more specific)
      if (currentPath.includes('/kr')) {
        if (krButton) krButton.classList.add('active');
      } 
      // Then check for EN pages (root, index, etc.)
      else {
        if (enButton) enButton.classList.add('active');
      }
    }

    function updateHomeButton() {
      const currentPath = window.location.pathname;
      const homeButton = document.getElementById('home-button');
      
      if (homeButton) {
        if (currentPath.includes('/kr')) {
          homeButton.href = '/kr';
        } else {
          homeButton.href = '/';
        }
      }
    }

    // Update buttons on page load
    updateLanguageButtons();
    updateHomeButton();
    
    // Update buttons when navigation occurs (for SPAs)
    window.addEventListener('popstate', function() {
      updateLanguageButtons();
      updateHomeButton();
    });
  });
</script>

<div style="position: relative; margin-bottom: 40px;">

<img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&height=300&section=header&fontSize=45&animation=fadeIn&fontAlignY=38&desc=&descAlignY=51&descAlign=62" alt="Header" style="display: block; width: 100%; height: auto; margin: 0; padding: 0; border-radius: 8px;" />

<div style="position:absolute;left:40px;bottom:-10px;width:80px;height:80px;background:white;border-radius:20px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 6px rgba(0,0,0,0.15);">
<img src="../../images/portal/app_icon.png" alt="Project Icon" style="max-width:70%;max-height:70%;object-fit:contain;" />
</div>

</div>

# Government Portal App

## ğŸ“ Overview
**ğŸ“Œ App Introduction:** Android app for the official [government portal](https://www.redpinar.gob.cu/) of the city of Pinar del Rio, Cuba  
**ğŸ•’ Duration:** February 2021 ~ April 2021  
**ğŸ“± Platform:** Native Android app  
**ğŸ¢ Company:** Desoft (Cuba's national software development company)  
**ğŸ‘¥ Team Size:** 2 developers  
**ğŸ’¼ Role:** Responsible for legacy code modernization and development of citizen service module  
**ğŸ› ï¸ Key Technologies:** `Kotlin` `MVVM` `Retrofit` `Room` `Jetpack` `ViewPager2` `WebView` `JavaScript` `Coroutines` `Moshi`  
**ğŸ”— GitHub:** [daehan-lim/government-portal-app](https://github.com/daehan-lim/government-portal-app)

<div style="display: flex; overflow-x: auto; border: 2px solid #ccc; padding: 6px; border-radius: 8px;">
  <img src="../../images/portal/menu.png" width="240" style="margin-right: 5px;" alt="Government portal menu screen"/>
  <img src="../../images/portal/delegado.png" width="240" style="margin-right: 5px;" alt="District representative portal screen"/>
  <img src="../../images/portal/form.png" width="240" style="margin-right: 5px;" alt="Request submission form screen"/>
  <img src="../../images/portal/code.png" width="240" style="margin-right: 5px;" alt="Code input screen"/>
  <img src="../../images/portal/guide.png" width="240" alt="User guide screen"/> 
</div>
<span style="display: block; height: 11px;"></span>

## ğŸ“– Project Background
There was a growing need to develop a mobile app that would allow citizens of Pinar del RÃ­o, Cuba, to seamlessly access the government portal, which had previously been limited to the existing website. The website was optimized for desktop use, causing inconvenience for mobile users when submitting government requests, accessing local information, or using administrative services. In particular, urgent improvements were needed in mobile accessibility to core services such as access to district representative information, tracking the status of civil requests, and browsing local classified listings. This led to developing a government portal app to provide intuitive mobile services for citizens. As part of this project, I was responsible for modernizing the existing legacy codebase.

## ğŸ› ï¸ Tech Stack

[![Kotlin](https://img.shields.io/badge/Kotlin-7F52FF?logo=kotlin&logoColor=white&style=for-the-badge)](https://kotlinlang.org)
[![MVVM](https://img.shields.io/badge/MVVM-FF5252?style=for-the-badge)](https://developer.android.com/topic/architecture)
[![Room](https://img.shields.io/badge/Room-00796B?logo=android&logoColor=white&style=for-the-badge)](https://developer.android.com/training/data-storage/room)
[![RETROFIT](https://img.shields.io/badge/retrofit-67b586?logo=square&logoColor=white&style=for-the-badge)](https://square.github.io/retrofit)
[![Jetpack](https://img.shields.io/badge/Jetpack-F57C00?logo=android&logoColor=white&style=for-the-badge)](https://developer.android.com/jetpack)
[![Coroutines](https://img.shields.io/badge/Coroutines-7F52FF?logo=kotlin&logoColor=white&style=for-the-badge)](https://kotlinlang.org/docs/coroutines-overview.html)
[![ViewPager2](https://img.shields.io/badge/ViewPager2-7CB342?style=for-the-badge&logo=android&logoColor=white)](https://developer.android.com/jetpack/androidx/releases/viewpager2)
[![LiveData](https://img.shields.io/badge/LiveData-3F51B5?style=for-the-badge)](https://developer.android.com/topic/libraries/architecture/livedata)
[![DataBinding](https://img.shields.io/badge/DataBinding-7CB342?style=for-the-badge)](https://developer.android.com/topic/libraries/data-binding)
[![ViewBinding](https://img.shields.io/badge/ViewBinding-7CB342?style=for-the-badge)](https://developer.android.com/topic/libraries/view-binding)
[![Moshi](https://img.shields.io/badge/Moshi-4CAF50?style=for-the-badge)](https://github.com/square/moshi)
[![WebView](https://img.shields.io/badge/WebView-4285F4?style=for-the-badge&logo=android&logoColor=white)](https://developer.android.com/reference/android/webkit/WebView)
[![HTML5](https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white)](https://www.w3.org/html/)
[![JavaScript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black)](https://developer.mozilla.org/en-US/docs/Web/JavaScript)
[![Material Design](https://img.shields.io/badge/Material%20Design-4285F4?logo=material-design&logoColor=white&style=for-the-badge)](https://material.io/design)

## ğŸ“‹ Project Structure
```
â”œâ”€â”€ data/                                    # Data layer
â”‚   â”œâ”€â”€ database/                            # Room local database
â”‚   â”‚   â””â”€â”€ classifieddatabase/              # Local property database
â”‚   â”‚       â”œâ”€â”€ Classified.kt                # Property information entity
â”‚   â”‚       â”œâ”€â”€ ClassifiedDao.kt             # Data access object
â”‚   â”‚       â””â”€â”€ ClassifiedDatabase.kt        # Database configuration
â”‚   â”œâ”€â”€ model/                               # Data model classes
â”‚   â”‚   â”œâ”€â”€ DelegateData.kt                  # Local representative information
â”‚   â”‚   â”œâ”€â”€ ClassifiedApi.kt                 # Property API response model
â”‚   â”‚   â”œâ”€â”€ Municipality.kt                  # Administrative district model
â”‚   â”‚   â””â”€â”€ gestiondelegado/                 # Representative management models
â”‚   â””â”€â”€ network/                             # Network communication layer
â”‚       â””â”€â”€ PortalGobiernoApiService.kt      # REST API service
â”œâ”€â”€ ui/                                      # Presentation layer
â”‚   â”œâ”€â”€ classified/                          # Local property features
â”‚   â”‚   â”œâ”€â”€ ClassifiedFragment.kt            # Property listings screen
â”‚   â”‚   â”œâ”€â”€ ClassifiedViewModel.kt           # Property business logic
â”‚   â”‚   â”œâ”€â”€ ClassifiedAdapter.kt             # RecyclerView adapter
â”‚   â”‚   â””â”€â”€ classifieddetail/                # Property detail information
â”‚   â”œâ”€â”€ gestiondelegado/                     # Local representative management
â”‚   â”‚   â”œâ”€â”€ GestionDelegadoFragment.kt       # Representative menu screen
â”‚   â”‚   â””â”€â”€ gestiondelegadosection/          # Representative service tabs
â”‚   â”‚       â”œâ”€â”€ GestionSectionActivity.kt    # ViewPager2-based tab interface
â”‚   â”‚       â”œâ”€â”€ GestionSectionViewModel.kt   # Shared business logic
â”‚   â”‚       â”œâ”€â”€ DelegadoDataFragment.kt      # Representative information lookup
â”‚   â”‚       â”œâ”€â”€ DispatchFragment.kt          # Online civil petition submission
â”‚   â”‚       â””â”€â”€ ProcedureFollowUpFragment.kt # Civil petition tracking
â”‚   â””â”€â”€ goverment/                           # Government services WebView
â”‚       â””â”€â”€ GovernmentFragment.kt            # JavaScript injection WebView
â”œâ”€â”€ misc/                                    # Utilities and common features
â”‚   â”œâ”€â”€ Util.kt                              # Date formatting and other utilities
â”‚   â””â”€â”€ Converters.kt                        # Room type converters
â””â”€â”€ BindingUtils.kt                          # Data binding adapters
```

## ğŸŒŸ Key Contributions
- Modernized the legacy codebase by adopting MVVM architecture, coroutines, and Jetpack components
- Implemented the district representative management system with automated administrative workflows for civil request submission, meeting schedule management, and processing status tracking using Retrofit/Moshi integration
- Built the local classifieds feed system with REST API integration, offline data caching, real-time synchronization, image carousel, and network status monitoring
- Integrated the Provincial Assembly portal by optimizing the desktop-oriented UI for mobile through WebView and JavaScript-based customization

## ğŸš€ Results and Impact
- Improved app stability and maintainability through legacy code modernization
- Streamlined administrative processes by automating civil request workflows
- Enhanced mobile accessibility with an offline-first design

<br><br><br>